# UI/UX 问题记录

## 测试信息
- 测试时间: 2026-01-18
- 测试模块: 用户管理
- 测试人员: Claude (AI Assistant) + 用户手动验证

---

## 新发现的缺陷

### 缺陷 #5: 用户列表显示头像图标错误
**模块**: 用户管理
**严重程度**: 🟡 中等 (P2)
**状态**: 🔴 新发现

**问题描述**:
在用户列表的"ID"列，显示了不应该存在的头像图标。用户列表不应该显示头像，只应该显示ID数字。

**影响范围**:
- 用户列表显示
- 影响用户体验

**修复建议**:
移除`frontend/src/views/system/Users.vue`中ID列的头像图标显示

---

### 缺陷 #6: 新增用户对话框包含不应该存在的字段
**模块**: 用户管理
**严重程度**: 🟡 中等 (P2)
**状态**: 🔴 新发现

**问题描述**:
新增用户表单中包含了不应该存在的字段：
1. **头像字段** - 添加用户时不支持头像上传/设置
2. **所属学校字段** - 该字段应该删除

**影响范围**:
- 新增用户表单
- 可能导致用户困惑

**修复建议**:
1. 从`frontend/src/views/system/Users.vue`的新增用户表单中移除"头像"字段
2. 从新增用户表单中移除"所属学校"字段
3. 如果学校信息需要通过其他方式关联，应该在用户详情页编辑

---

### 缺陷 #7: 用户角色显示为"未知角色"
**模块**: 用户管理
**严重程度**: 🟡 中等 (P2)
**状态**: 🔴 新发现

**问题描述**:
用户列表中所有用户的"角色"列都显示"未知角色"，而不是实际的角色名称（如"管理员"、"教师"等）

**根本原因**:
前端获取用户数据时，role字段可能没有正确映射或后端返回的数据格式问题

**影响范围**:
- 用户列表
- 数据可读性

**修复建议**:
检查`frontend/src/views/system/Users.vue`中角色字段的显示逻辑，确保正确映射roleId到角色名称

---

## 已知但未修复的P0缺陷

### 缺陷 #1-3: 数据库字段缺失（已修复✅）
- ✅ `t_job_application`: 已添加`is_deleted`字段
- ✅ `t_offer`: 已添加`is_deleted`字段
- ✅ `t_interview`: 已添加`is_deleted`和`round`字段

### 缺陷 #2: Position表名错误（已修复✅）
- ✅ Position实体类的@TableName已改为"t_position"

---

## 功能测试结果

### ✅ 测试通过的功能
1. **用户登录** ✅
   - admin账号登录成功
   - 密码验证正常

2. **用户列表查看** ✅
   - 用户列表成功加载
   - 显示20个用户
   - 分页功能正常（2页，每页10条）

3. **搜索功能** ✅
   - 搜索"admin"成功过滤出1个结果
   - 搜索功能正常工作

4. **创建用户** ✅
   - 新增用户对话框成功打开
   - 表单字段完整显示
   - 用户创建成功

### ⚠️ 发现的UI问题
1. 用户ID列显示头像图标（不应显示）
2. 新增用户表单包含多余字段（头像、所属学校）
3. 角色显示为"未知角色"

---

## 修复优先级

### 高优先级 (P1-P2)
1. 🔴 **修复角色显示问题** - 影响数据可读性
2. 🔴 **移除多余字段** - 改善用户体验
3. 🟡 **修复ID列头像显示** - 视觉问题

### 下一步测试
继续测试以下功能：
- 编辑用户
- 删除用户
- 批量删除
- 导出用户
- 重置密码

---

**更新时间**: 2026-01-18 16:20:00
