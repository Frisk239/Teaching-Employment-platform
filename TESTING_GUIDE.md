# 管理员登录测试指南

## 🧪 测试步骤

### 1. 启动前端服务

```bash
cd Teaching-Employment-platform/frontend
npm run dev
```

前端服务将在 `http://localhost:5173` 或 `http://localhost:8081` 启动

### 2. 使用管理员账号登录

#### 测试账号信息（来自 TEST_ACCOUNTS.md）

| 用户名 | 密码 | 角色 |
|--------|------|------|
| admin | 123456 | 管理员 |

#### 登录步骤
1. 访问 `http://localhost:8081`
2. 输入用户名：`admin`
3. 输入密码：`123456`
4. 点击"登录"按钮

### 3. 登录后的页面结构

登录成功后，您将看到：

#### 布局结构
```
┌────────────────────────────────────────────────┐
│ [折叠按钮]                                    │
├────────────────────────────────────────────────┤
│ 🏠 首页                                       │
│ ⚙️ 系统管理    ▼                             │
│   👥 用户管理                                 │
│   🎭 角色管理                                 │
│   🔒 权限管理                                 │
│   📋 菜单管理                                 │
│ ✏️ 教学管理    ▼                             │
│ 🏢 就业管理    ▼                             │
├────────────────────────────────────────────────┤
│ 高校教学就业平台              [管理员] [🔔] [@用户] │
├────────────────────────────────────────────────┤
│                                                  │
│  页面内容区域                                   │
│                                                  │
└────────────────────────────────────────────────┘
```

### 4. 首页（Dashboard）

#### 管理员Dashboard内容

**欢迎横幅**
- 标题：🛡️ 管理员工作台
- 欢迎语：欢迎回来，管理员

**统计卡片（4个）**
- 总用户数：156
- 活跃用户：89
- 总课程数：45
- 就业率：85.6%

**快捷操作按钮**
- 用户管理（跳转到 /system/users）
- 课程管理（跳转到 /teaching/courses）
- 学员管理（跳转到 /teaching/students）
- 教师管理（跳转到 /teaching/teachers）

### 5. 系统管理菜单

点击侧边栏的"⚙️ 系统管理"展开子菜单：

#### 5.1 用户管理 (/system/users)

**页面功能**
- 用户列表展示（ID、用户名、姓名、手机号、邮箱、角色、学校、状态、创建时间）
- 新增用户按钮
- 批量删除按钮
- 导出用户按钮
- 搜索框（用户名、姓名、手机号、邮箱）
- 分页组件

**表格操作**
- 编辑：修改用户信息
- 删除：删除单个用户
- 更多操作：
  - 重置密码
  - 查看详情

**新增/编辑用户表单**
- 用户名（必填，3-20字符）
- 真实姓名（必填）
- 密码（仅新增时必填，6-20字符）
- 手机号（格式验证）
- 邮箱（格式验证）
- 角色（下拉选择：管理员、学院负责人、教师、企业对接人、学员）
- 所属学校（下拉选择）
- 头像上传（支持图片预览，限制2MB）

#### 5.2 角色管理 (/system/roles)

**页面功能**
- 角色列表展示（ID、角色名称、角色编码、描述、权限数量、状态、创建时间）
- 新增角色按钮
- 批量删除按钮
- 搜索框（角色名称、编码）
- 分页组件

**表格操作**
- 编辑：修改角色信息
- 分配权限：**树形权限分配界面**
- 删除：删除单个角色

**新增/编辑角色表单**
- 角色名称（必填，2-20字符）
- 角色编码（必填，2-50字符，小写字母和下划线，创建后不可修改）
- 描述（选填，最多200字符）
- 状态（启用/禁用）

**权限分配对话框**
- 权限树展示（4个模块）
- 系统管理权限（18项）
- 教学管理权限（30+项）
- 就业管理权限（20+项）
- 个人中心权限（5项）
- 支持勾选父节点自动勾选子节点
- 显示已选权限数量

#### 5.3 权限管理 (/system/permissions)

**页面功能**
- 视图切换按钮（树形视图/表格视图）
- 权限列表展示
- 新增权限按钮
- 搜索框（权限名称、编码）

**树形表格视图**
- 树形展示权限层级
- 权限名称（带图标）
- 权限编码（标签显示）
- 描述
- 类型（模块/权限标签）
- 操作（编辑、删除）

**新增/编辑权限表单**
- 权限名称（必填，2-50字符）
- 权限编码（必填，格式：模块:功能:操作，如：system:user:add）
- 所属模块（下拉选择：系统管理、教学管理、就业管理、个人中心）
- 描述（选填，最多200字符）

#### 5.4 菜单管理 (/system/menus)

**页面功能**
- 菜单列表展示（树形表格）
- 新增菜单按钮
- 展开全部按钮
- 折叠全部按钮
- 搜索框（菜单名称）

**树形表格**
- 菜单名称（带图标）
- 图标预览
- 路由路径
- 组件路径
- 排序
- 状态（显示/隐藏开关）
- 操作：
  - 新增子菜单
  - 编辑
  - 删除

**新增/编辑菜单表单**
- 上级菜单（树形选择器，可选顶级菜单）
- 菜单类型（目录/菜单单选）
- 菜单名称（必填，2-20字符）
- 菜单图标（图标选择器）
- 路由路径（必填，格式：/xxx/xxx）
- 组件路径（菜单时必填，格式：@/views/xxx/Xxx.vue）
- 排序（数字输入，0-9999）
- 状态（显示/隐藏单选）

**图标选择器**
- 200+ Element Plus 图标
- 网格布局展示
- 图标搜索框
- 点击选择图标
- 已选中图标高亮显示

### 6. 预期的用户体验

#### 流畅的导航
- 侧边栏菜单根据角色动态显示
- 点击菜单项平滑跳转到对应页面
- 页面切换有淡入淡出动画
- 面包屑导航清晰

#### 友好的交互
- 所有表格支持边框和条纹样式
- 表单验证即时反馈
- 操作按钮有禁用状态（如批量删除）
- 加载状态有进度提示

#### 权限控制
- 只有管理员可以看到"系统管理"菜单
- 非管理员访问系统管理页面会被拦截并跳转到首页
- 编辑、删除按钮根据权限显示

---

## 🔧 可能的问题和解决方案

### 问题1：登录后看不到侧边栏菜单

**可能原因**：
- authStore 中的 userRole 没有正确设置
- 侧边栏菜单配置有问题

**解决方法**：
1. 打开浏览器控制台，查看日志输出
2. 检查 `authStore.userRole` 的值
3. 检查 `authStore.user` 对象是否包含 `roleCode` 字段

### 问题2：点击菜单后页面404

**可能原因**：
- 页面组件文件不存在
- 路由配置路径不正确

**解决方法**：
1. 检查 `src/views/system/` 目录下是否有对应的 `.vue` 文件
2. 检查路由配置中的路径是否正确

### 问题3：权限指令不生效

**可能原因**：
- 权限指令未正确注册
- 权限码不匹配

**解决方法**：
1. 检查 `main.ts` 中是否注册了权限指令
2. 检查权限码拼写是否正确

---

## 📊 测试检查清单

### 登录测试
- [ ] 使用 admin/123456 成功登录
- [ ] 登录后跳转到首页
- [ ] 侧边栏显示管理员专属菜单
- [ ] 顶部栏显示用户信息和角色标签

### Dashboard测试
- [ ] 显示管理员欢迎横幅
- [ ] 显示4个统计卡片
- [ ] 快捷操作按钮可以跳转到对应页面

### 用户管理测试
- [ ] 页面正常加载
- [ ] 表格显示模拟数据
- [ ] 新增用户对话框可以打开
- [ ] 编辑用户对话框可以打开
- [ ] 搜索功能正常
- [ ] 分页功能正常

### 角色管理测试
- [ ] 页面正常加载
- [ ] 表格显示模拟数据
- [ ] 权限分配对话框可以打开
- [ ] 权限树正常显示
- [ ] 勾选权限功能正常

### 权限管理测试
- [ ] 页面正常加载
- [ ] 树形表格视图正常
- [ ] 树形视图正常
- [ ] 视图切换功能正常

### 菜单管理测试
- [ ] 页面正常加载
- [ ] 树形表格正常显示
- [ ] 图标选择器可以打开
- [ ] 图标搜索功能正常
- [ ] 选择图标功能正常

---

## 🎯 下一步

测试完成后，如果一切正常，我们可以继续创建：
1. 教学管理模块的页面
2. 就业管理模块的页面
3. 个人中心页面

祝测试顺利！🚀

---

*测试指南创建时间：2026-01-13*
